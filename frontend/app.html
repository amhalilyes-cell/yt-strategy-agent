<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>YT Strategy Agent — App</title>
</head>
<body style="background:#0b0b0b;color:white;font-family:sans-serif;padding:40px">

  <h1>Dashboard</h1>
  <p id="status">Chargement…</p>

  <script>
    fetch("https://yt-strategy-agent.onrender.com/auth/me", {
      credentials: "include"
    })
    .then(r => r.json())
    .then(me => {
      if (!me.authenticated) {
        document.getElementById("status").innerText = "Non connecté";
        return;
      }

      document.getElementById("status").innerHTML = `
        Connecté ✔️<br>
        Email : ${me.email}<br>
        Trial actif : ${me.trial_active ? "oui" : "non"}
      `;
    })
    .catch(() => {
      document.getElementById("status").innerText = "Erreur API";
    });
  </script>

</body>
</html>

